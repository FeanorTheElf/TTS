!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8),r=n(9),a=n(10),i=n(11),o=n(12);t.toMinuteSecondString=function(e){return Math.floor(e/60)+":"+e%60},t.soundTypes=["continue","finished"];class c{}c.none=null,c.continue="continue",c.finished="finished",t.SoundTypeValue=c,t.trainingModeTypes=["Stufenintervall","Zirkelintervall","Hochintensitätssatz","Supersatz","Intervallsatz"],t.trainingModes={Stufenintervall:s.default,Zirkelintervall:r.default,"Hochintensitätssatz":a.default,Supersatz:i.default,Intervallsatz:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(3),a=n(4);r.render(s.createElement(a.default,null),document.getElementById("main"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(5),a=n(14),i=n(1);t.default=class extends s.PureComponent{constructor(e){super(e),this.state={currentMode:i.trainingModeTypes[0]},this.clockRef=s.createRef(),this.onStart=this.onStart.bind(this),this.onPause=this.onPause.bind(this),this.onModeChosen=this.onModeChosen.bind(this)}onStart(){this.clockRef.current&&this.clockRef.current.start()}onPause(){this.clockRef.current&&this.clockRef.current.pause()}onModeChosen(e){this.clockRef.current&&(this.clockRef.current.setTrainingMode(i.trainingModes[e]),this.setState({currentMode:e}))}render(){return s.createElement("div",null,s.createElement(a.TTSHeader,{supportedModes:i.trainingModeTypes,activeMode:this.state.currentMode,onStart:this.onStart,onPause:this.onPause,onModeChosen:this.onModeChosen}),s.createElement(r.TrainingClock,{ref:this.clockRef,initialTrainingMode:i.trainingModes[this.state.currentMode]}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(6),a=n(7);t.TrainingClock=class extends s.Component{constructor(e){super(e),this.tick=this.tick.bind(this),this.timer=new r.Timer(this.tick),this.audioManager=new a.AudioManager,this.state={seconds:0,trainingMode:e.initialTrainingMode}}tick(e,t){const n=Math.floor(e/1e3),s=Math.floor(t/1e3),r=this.state.trainingMode.shouldPlaySound(n,s);r&&this.audioManager.play(r),this.setState({seconds:s})}shouldComponentUpdate(e,t){return this.state.seconds!=t.seconds||this.state.trainingMode!=t.trainingMode}start(){this.timer.start()}stop(){this.timer.stop()}pause(){this.timer.pause()}reset(){this.timer.stop(),this.timer=new r.Timer(this.tick),this.setState({seconds:0})}setTrainingMode(e){this.timer.stop(),this.timer=new r.Timer(this.tick),this.setState({seconds:0,trainingMode:e})}render(){const e=this.state.trainingMode.render;return s.createElement("div",{className:"clock"},s.createElement(e,{seconds:this.state.seconds}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=1;t.Timer=class{constructor(e){this.millisOnLastTick=0,this.currentMillis=0,this.running=!1,this.callback=e,this.tick=this.tick.bind(this)}tick(){const e=this.getMillisecondsRunning();this.callback(this.millisOnLastTick,e),this.millisOnLastTick=e}start(){this.running||(this.timerId=setInterval(this.tick,100),this.startMillis=Date.now(),this.running=!0)}pause(){this.running&&this.timerId&&this.startMillis?(this.currentMillis+=(Date.now()-this.startMillis)*s,clearInterval(this.timerId),this.timerId=void 0,this.running=!1,this.tick()):this.running&&console.error("The timer is running, but timerId or startMillis is not set: "+this)}stop(){this.pause()}getMillisecondsRunning(){return this.running&&this.startMillis?this.currentMillis+(Date.now()-this.startMillis)*s:(this.running&&console.error("The timer is running, but startMillis is not set: "+this),this.currentMillis)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(1),r=n(13);t.AudioManager=class{constructor(){this.sounds={continue:new Audio(r.currentConfig&&r.currentConfig.soundUrls&&r.currentConfig.soundUrls.continue||"continue.wav"),finished:new Audio(r.currentConfig&&r.currentConfig.soundUrls&&r.currentConfig.soundUrls.finished||"finished.wav")},s.soundTypes.forEach(e=>this.sounds[e].load())}play(e){const t=this.sounds[e];t.pause(),t.currentTime=0,t.play()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(1);class a{static getStep(e){return Math.floor(e/a.stepDuration)+1}static shouldPlaySound(e,t){return a.getStep(t)!=a.getStep(e)&&a.getStep(t)<=5?5==a.getStep(t)?r.SoundTypeValue.finished:r.SoundTypeValue.continue:r.SoundTypeValue.none}static render(e){const t=a.getStep(e.seconds);if(t>=5)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));{const n=a.stepDuration-e.seconds%a.stepDuration;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Intervall "),s.createElement("span",null,t+" / 4")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,r.toMinuteSecondString(n))))}}}a.stepDuration=450,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(1);class a{static shouldPlaySound(e,t){return e<a.duration&&t>=a.duration?r.SoundTypeValue.finished:r.SoundTypeValue.none}static render(e){if(e.seconds>=a.duration)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));{const t=a.duration-e.seconds;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,r.toMinuteSecondString(t))))}}}a.duration=1200,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(1);var a;!function(e){e[e.pause=0]="pause",e[e.training=1]="training"}(a||(a={}));class i{static getIntervalType(e){return e%30<20?a.training:a.pause}static getStep(e){return Math.floor(e/30)%8+1}static getExercise(e){return Math.floor(e/i.exerciseDuration)+1}static shouldPlaySound(e,t){return 4==i.getExercise(t)&&i.getExercise(e)<4?r.SoundTypeValue.finished:(i.getIntervalType(e)!=i.getIntervalType(t)||i.getStep(e)!=i.getStep(t)||i.getExercise(e)!=i.getExercise(t))&&t<3*i.exerciseDuration?r.SoundTypeValue.continue:r.SoundTypeValue.none}static render(e){const t=i.getExercise(e.seconds);if(t>=4)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));if(i.getIntervalType(e.seconds)==a.training){const n=20-e.seconds%30;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Übung "),s.createElement("span",null,t+" / 3")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Satz "),s.createElement("span",null,i.getStep(e.seconds)+" / 8")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,r.toMinuteSecondString(n)+" (Training)")))}{const n=30-e.seconds%30;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Übung "),s.createElement("span",null,t+" / 3")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Satz "),s.createElement("span",null,i.getStep(e.seconds)+" / 8")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,r.toMinuteSecondString(n)+" (Pause)")))}}}i.exerciseDuration=240,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(1);class a{static getExercise(e){return Math.floor(e/a.exerciseDuration)+1}static getPowerblock(e){return Math.floor(e/a.powerblockDuration)+1}static shouldPlaySound(e,t){return a.getPowerblock(t)==a.lastPowerblock+1&&a.getPowerblock(t)!=a.getPowerblock(e)?r.SoundTypeValue.finished:a.getPowerblock(t)!=a.getPowerblock(e)&&a.getPowerblock(t)<=a.lastPowerblock?r.SoundTypeValue.continue:r.SoundTypeValue.none}static render(e){const t=a.getPowerblock(e.seconds);if(t>a.lastPowerblock)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));{const n=a.powerblockDuration-e.seconds%a.powerblockDuration;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Übung "),s.createElement("span",null,a.getExercise(e.seconds)+" / 3")),s.createElement("p",null,s.createElement("span",{className:"secondary secondary-long"},"Wiederholung "),s.createElement("span",{className:"secondary secondary-short"},"Wiederh. "),s.createElement("span",null,2-t%2+" / 2")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,r.toMinuteSecondString(n))))}}}a.powerblockDuration=240,a.exerciseDuration=2*a.powerblockDuration,a.lastPowerblock=6,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),r=n(1);class a{static getExercise(e){return Math.floor(e/a.exerciseDuration)+1}static getStep(e){return Math.floor(e/a.stepDuration)%3+1}static shouldPlaySound(e,t){return 5==a.getExercise(t)&&a.getExercise(t)!=a.getExercise(e)?r.SoundTypeValue.finished:a.getStep(t)!=a.getStep(e)&&a.getExercise(t)<=4?r.SoundTypeValue.continue:r.SoundTypeValue.none}static render(e){const t=a.getExercise(e.seconds);if(t>=5)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));{const n=a.getStep(e.seconds),i=a.stepDuration-e.seconds%a.stepDuration;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Übung "),s.createElement("span",null,t+" / 4")),s.createElement("p",null,s.createElement("span",{className:"secondary secondary-long"},"Wiederholung "),s.createElement("span",{className:"secondary secondary-short"},"Wiederh. "),s.createElement("span",null,n+" / 3")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,r.toMinuteSecondString(i))))}}}a.stepDuration=180,a.exerciseDuration=3*a.stepDuration,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.currentConfig=window.configuration},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0);function r(e){return s.createElement("div",{className:"header-item complex-content primary clickable"},s.createElement("div",{className:"dropdown"},e.supportedModes.map((t,n)=>{const r=n==e.activeModeIndex?" primary":"",a=e.onClick;return a?s.createElement("span",{key:t,className:"dropdown-item"+r,onClick:()=>a(n)}," ",t):s.createElement("span",{key:t,className:"dropdown-item"+r}," ",t)})))}t.TTSHeader=class extends s.PureComponent{constructor(e){super(e),this.state={menuOpen:!1},this.onModeChosen=this.onModeChosen.bind(this),this.onMenuOpen=this.onMenuOpen.bind(this)}onModeChosen(e){this.props.onModeChosen&&this.props.supportedModes[e]!=this.props.activeMode&&this.props.onModeChosen(this.props.supportedModes[e]),this.setState({menuOpen:!1})}onMenuOpen(){this.setState({menuOpen:!0})}render(){const e=this.props.supportedModes.indexOf(this.props.activeMode);return s.createElement("div",{className:"header"},s.createElement("div",{className:"header-item"},s.createElement("span",{className:"header-item-content"},"TTS")),this.state.menuOpen?s.createElement(r,{activeModeIndex:e,supportedModes:this.props.supportedModes,onClick:this.onModeChosen}):s.createElement("div",{className:"header-item clickable primary",onClick:this.onMenuOpen},s.createElement("span",{className:"header-item-content"},this.props.supportedModes[e])),s.createElement("div",{className:"header-item clickable",onClick:this.props.onStart},s.createElement("span",{className:"header-item-content"},"Start")),s.createElement("div",{className:"header-item clickable",onClick:this.props.onPause},s.createElement("span",{className:"header-item-content"},"Pause")))}}}]);
//# sourceMappingURL=bundle.js.map