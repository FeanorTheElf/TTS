!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8),i=n(9),r=n(10);t.toMinuteSecondString=function(e){return Math.floor(e/60)+":"+e%60},t.soundTypes=["continue","finished"];class a{}a.none=null,a.continue="continue",a.finished="finished",t.SoundTypeValue=a,t.trainingModeTypes=["Stufenintervall","Zirkelintervall","Hochintensitätssatz"],t.trainingModes={Stufenintervall:s.default,Zirkelintervall:i.default,"Hochintensitätssatz":r.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),i=n(3),r=n(4);i.render(s.createElement(r.default,null),document.getElementById("main"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),i=n(5),r=n(12),a=n(1);t.default=class extends s.PureComponent{constructor(e){super(e),this.state={currentMode:a.trainingModeTypes[0]},this.clockRef=s.createRef(),this.onStart=this.onStart.bind(this),this.onPause=this.onPause.bind(this),this.onModeChosen=this.onModeChosen.bind(this)}onStart(){this.clockRef.current&&this.clockRef.current.start()}onPause(){this.clockRef.current&&this.clockRef.current.pause()}onModeChosen(e){this.clockRef.current&&(this.clockRef.current.setTrainingMode(a.trainingModes[e]),this.setState({currentMode:e}))}render(){return s.createElement("div",null,s.createElement(r.TTSHeader,{supportedModes:a.trainingModeTypes,activeMode:this.state.currentMode,onStart:this.onStart,onPause:this.onPause,onModeChosen:this.onModeChosen}),s.createElement(i.TrainingClock,{ref:this.clockRef,initialTrainingMode:a.trainingModes[this.state.currentMode]}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),i=n(6),r=n(7);t.TrainingClock=class extends s.Component{constructor(e){super(e),this.tick=this.tick.bind(this),this.timer=new i.Timer(this.tick),this.audioManager=new r.AudioManager,this.state={seconds:0,trainingMode:e.initialTrainingMode}}tick(e,t){const n=Math.floor(e/1e3),s=Math.floor(t/1e3),i=this.state.trainingMode.shouldPlaySound(n,s);i&&this.audioManager.play(i),this.setState({seconds:s})}shouldComponentUpdate(e,t){return this.state.seconds!=t.seconds||this.state.trainingMode!=t.trainingMode}start(){this.timer.start()}stop(){this.timer.stop()}pause(){this.timer.pause()}reset(){this.timer.stop(),this.timer=new i.Timer(this.tick),this.setState({seconds:0})}setTrainingMode(e){this.timer.stop(),this.timer=new i.Timer(this.tick),this.setState({seconds:0,trainingMode:e})}render(){const e=this.state.trainingMode.render;return s.createElement("div",{className:"clock"},s.createElement(e,{seconds:this.state.seconds}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Timer=class{constructor(e){this.millisOnLastTick=0,this.currentMillis=0,this.running=!1,this.callback=e,this.tick=this.tick.bind(this)}tick(){const e=this.getMillisecondsRunning();console.log(e+", "+this.millisOnLastTick),this.callback(this.millisOnLastTick,e),this.millisOnLastTick=e}start(){this.running||(this.timerId=setInterval(this.tick,100),this.startMillis=Date.now(),this.running=!0)}pause(){this.running&&this.timerId&&this.startMillis?(this.currentMillis+=Date.now()-this.startMillis,clearInterval(this.timerId),this.timerId=void 0,this.running=!1,this.tick()):this.running&&console.error("The timer is running, but timerId or startMillis is not set: "+this)}stop(){this.pause()}getMillisecondsRunning(){return this.running&&this.startMillis?this.currentMillis+(Date.now()-this.startMillis):(this.running&&console.error("The timer is running, but startMillis is not set: "+this),this.currentMillis)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(1),i=n(11);t.AudioManager=class{constructor(){this.sounds={continue:new Audio(i.currentConfig&&i.currentConfig.soundUrls&&i.currentConfig.soundUrls.continue||"continue.wav"),finished:new Audio(i.currentConfig&&i.currentConfig.soundUrls&&i.currentConfig.soundUrls.finished||"finished.wav")},s.soundTypes.forEach(e=>this.sounds[e].load())}play(e){const t=this.sounds[e];t.pause(),t.currentTime=0,t.play()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),i=n(1);class r{static getStep(e){return Math.floor(e/r.stepDuration)+1}static shouldPlaySound(e,t){return r.getStep(t)!=r.getStep(e)&&r.getStep(t)<=5?5==r.getStep(t)?i.SoundTypeValue.finished:i.SoundTypeValue.continue:i.SoundTypeValue.none}static render(e){const t=r.getStep(e.seconds);if(t>=5)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));{const n=r.stepDuration-e.seconds%r.stepDuration;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Intervall "),s.createElement("span",null,t+" / 4")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,i.toMinuteSecondString(n))))}}}r.stepDuration=450,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),i=n(1);class r{static shouldPlaySound(e,t){return e<r.duration&&t>=r.duration?i.SoundTypeValue.finished:i.SoundTypeValue.none}static render(e){if(e.seconds>=r.duration)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));{const t=r.duration-e.seconds;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,i.toMinuteSecondString(t))))}}}r.duration=1200,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),i=n(1);var r;!function(e){e[e.pause=0]="pause",e[e.training=1]="training"}(r||(r={}));class a{static getIntervalType(e){return e%30<20?r.training:r.pause}static getStep(e){return Math.floor(e/30)%8+1}static getExercise(e){return Math.floor(e/a.exerciseDuration)+1}static shouldPlaySound(e,t){return 4==a.getExercise(t)&&a.getExercise(e)<4?i.SoundTypeValue.finished:(a.getIntervalType(e)!=a.getIntervalType(t)||a.getStep(e)!=a.getStep(t)||a.getExercise(e)!=a.getExercise(t))&&t<3*a.exerciseDuration?i.SoundTypeValue.continue:i.SoundTypeValue.none}static render(e){const t=a.getExercise(e.seconds);if(t>=4)return s.createElement("div",{className:"clock-display"},s.createElement("p",{className:"text-done"},"Geschafft!"));if(a.getIntervalType(e.seconds)==r.training){const n=20-e.seconds%30;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Übung "),s.createElement("span",null,t+" / 3")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Satz "),s.createElement("span",null,a.getStep(e.seconds)+" / 8")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,i.toMinuteSecondString(n)+" (Training)")))}{const n=30-e.seconds%30;return s.createElement("div",{className:"clock-display"},s.createElement("p",null,s.createElement("span",{className:"secondary"},"Übung "),s.createElement("span",null,t+" / 3")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Satz "),s.createElement("span",null,a.getStep(e.seconds)+" / 8")),s.createElement("p",null,s.createElement("span",{className:"secondary"},"Zeit "),s.createElement("span",null,i.toMinuteSecondString(n)+" (Pause)")))}}}a.exerciseDuration=240,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.currentConfig=window.configuration},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0);function i(e){return s.createElement("div",{className:"header-item complex-content primary clickable"},s.createElement("div",{className:"dropdown"},e.supportedModes.map((t,n)=>{const i=n==e.activeModeIndex?" primary":"",r=e.onClick;return r?s.createElement("span",{key:t,className:"dropdown-item"+i,onClick:()=>r(n)}," ",t):s.createElement("span",{key:t,className:"dropdown-item"+i}," ",t)})))}t.TTSHeader=class extends s.PureComponent{constructor(e){super(e),this.state={menuOpen:!1},this.onModeChosen=this.onModeChosen.bind(this),this.onMenuOpen=this.onMenuOpen.bind(this)}onModeChosen(e){this.props.onModeChosen&&this.props.supportedModes[e]!=this.props.activeMode&&this.props.onModeChosen(this.props.supportedModes[e]),this.setState({menuOpen:!1})}onMenuOpen(){this.setState({menuOpen:!0})}render(){const e=this.props.supportedModes.indexOf(this.props.activeMode);return s.createElement("div",{className:"header"},s.createElement("div",{className:"header-item"},s.createElement("span",{className:"header-item-content"},"TTS")),this.state.menuOpen?s.createElement(i,{activeModeIndex:e,supportedModes:this.props.supportedModes,onClick:this.onModeChosen}):s.createElement("div",{className:"header-item clickable primary",onClick:this.onMenuOpen},s.createElement("span",{className:"header-item-content"},this.props.supportedModes[e])),s.createElement("div",{className:"header-item clickable",onClick:this.props.onStart},s.createElement("span",{className:"header-item-content"},"Start")),s.createElement("div",{className:"header-item clickable",onClick:this.props.onPause},s.createElement("span",{className:"header-item-content"},"Pause")))}}}]);
//# sourceMappingURL=bundle.js.map